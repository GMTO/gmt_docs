

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.8. Modules: Subsystem, Packages, Components &mdash; GMT Software And Controls documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/additional_style.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="GMT Software And Controls documentation" href="../../index.html"/>
        <link rel="up" title="3. Overall Architecture" href="overall_architecture.html"/>
        <link rel="next" title="3.9. Instrument Software and Controls Integration" href="integration.html"/>
        <link rel="prev" title="3.7. Frameworks" href="frameworks.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GMT Software And Controls
          

          
            
            <img src="../../_static/logowhite.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../release_notes/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Architecture and Design</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction/swcs_introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../requirements/requirements.html">2. Requirements Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="overall_architecture.html">3. Overall Architecture</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="organization.html">3.1. Organization</a></li>
<li class="toctree-l3"><a class="reference internal" href="domains.html">3.2. Domains of Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="development.html">3.3. Software Development</a></li>
<li class="toctree-l3"><a class="reference internal" href="deployment.html">3.4. Software Deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="controls.html">3.5. Controls Hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="health_supervision.html">3.6. Health and Supervision</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks.html">3.7. Frameworks</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3.8. Modules: Subsystem, Packages, Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="integration.html">3.9. Instrument Software and Controls Integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operations/observatory_operations.html">4. Observatory Operation System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tcs/tcs_introduction.html">5. Telescope Control System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/observatory_services.html">6. Observatory Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/component_frameworks.html">7. Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platform/platform.html">8. Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process/process_introduction.html">9. Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../risks/risks.html">10. Software and Control Risks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bibliography/bibliography.html">11. Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../SWC_standards/index.html">Software and Controls Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software_development/index.html">Software Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_products/index.html">Data Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/swc_sys_glossary.html">Software and Controls Acronyms and Definitions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GMT Software And Controls</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Architecture and Design</a> &raquo;</li>
        
          <li><a href="overall_architecture.html">3. Overall Architecture</a> &raquo;</li>
        
      <li>3.8. Modules: Subsystem, Packages, Components</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="modules-subsystem-packages-components">
<span id="architecture-modules"></span><h1>3.8. Modules: Subsystem, Packages, Components<a class="headerlink" href="#modules-subsystem-packages-components" title="Permalink to this headline">¶</a></h1>
<p>The SWCS domains (TCS, OPS, OSRV) are each composed of software subsystem
modules. As illustrated in the bottom row of the <a class="reference internal" href="organization.html#swcs-organization"><span class="std std-ref">SWCS Organization</span></a>
figure, each subsystem is then made up of components organized into packages
according to their affinity or relationships. The SWC reference architecture
<a class="reference internal" href="../bibliography/bibliography.html#filg13b" id="id1">[Filg13b]</a> defines a guide for organizing subsystem components into a set of
canonical packages.  Examples of packages and their components are shown in
Tables below on <a class="reference internal" href="#table-control-packages"><span class="std std-ref">Control Packages</span></a> and <a class="reference internal" href="#figure-core-components"><span class="std std-ref">Core Components</span></a>.
Which packages exist in which subsystem depends on the specific functionality
(e.g., some subsystems do not require special calibration components, or do not
interface with hardware devices). The tables below describe this pattern, split
in two categories:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#table-control-packages"><span class="std std-ref">Control Packages</span></a> – These packages are included in
subsystems that involve the control of optomechanical hardware Devices.</li>
<li><a class="reference internal" href="#operation-support-packages"><span class="std std-ref">Operation Support Packages</span></a> – These
Packages include software components necessary to support health monitoring,
automation, and proper operation of a Subsystem. Diagnosis and calibration
packages are emphasized early on in the design. This is an area that is
often overlooked despite the fact that they may take a significant amount of
development effort, especially in the case of complex adaptive optics
control subsystems.</li>
</ul>
</div></blockquote>
<table border="1" class="docutils" id="id3">
<span id="table-control-packages"></span><caption><span class="caption-number">Table 3.1 </span><span class="caption-text">Control Packages</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="22%" />
<col width="56%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3">CONTROL PACKAGES</th>
</tr>
<tr class="row-even"><th class="head">Package Name</th>
<th class="head">Description</th>
<th class="head">Typical Components</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>Device Control
Package</td>
<td>Contains software Components that implement
the supervisory and control functions of a
Device Control Subsystem (e.g. Mount Control
System Control Package).</td>
<td>Supervisor,
Controller</td>
</tr>
<tr class="row-even"><td>Data Acquisition
Package</td>
<td>Contains software Components that implement
the supervisory and data acquisition functions
of a Detector Control Subsystem (e.g., AGWS
Slope Processor Package). Only Subsystems that
include a Wavefront Sensor (WFS),
acquisition/guide camera or a science detector
need to provide a Data Acquisition Package.</td>
<td>Supervisor,
Controller,
Pipeline,</td>
</tr>
<tr class="row-odd"><td>Hardware
Package</td>
<td>Contains hardware Components in which to
deploy the Device Control or Data Acquisition
Package software Components and the hardware
to interface with the electromechanical
Devices.</td>
<td>Device Control
Computer,
I/O Module</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id4">
<span id="operation-support-packages"></span><caption><span class="caption-number">Table 3.2 </span><span class="caption-text">Operation Support Packages</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="22%" />
<col width="56%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3">OPERATION SUPPORT PACKAGES</th>
</tr>
<tr class="row-even"><th class="head">Package Name</th>
<th class="head">Description</th>
<th class="head">Typical Components</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>Sequencing
Package</td>
<td>Contains sequence Components necessary for the
operation of the Subsystem</td>
<td>Sequence</td>
</tr>
<tr class="row-even"><td>Diagnosis
Package</td>
<td>Contains software Components necessary to
implement diagnosis functions when required.
This may involve the development of special
control or operation modes.</td>
<td>Supervisor,
Controller,
Pipeline,
Sequence</td>
</tr>
<tr class="row-odd"><td>Calibration
Package</td>
<td>Contains software Components necessary for
the calibration and characterization of
hardware Devices.  This may include the
development of special control or operation
modes.</td>
<td>Supervisor,
Controller,
Pipeline,
Sequence</td>
</tr>
<tr class="row-even"><td>Data Processing
Package</td>
<td>Contains software Components necessary for
the calibration and processing of science
and wavefront sensor detectors.</td>
<td>Supervisor,
Pipeline,</td>
</tr>
<tr class="row-odd"><td>Visualization
Package</td>
<td>Contains software Components that provide
custom visualizations necessary for the
efficient operation of a given Subsystem (e.g.
M1 global status Panel).  Note that default
engineering Panels are available as part of
the Engineering UI service.</td>
<td>Panel,
Widget</td>
</tr>
<tr class="row-even"><td>Safety
Package</td>
<td>Contains hardware/software Components that
implement Subsystem specific safety functions.
These Components often interface with the ISS
but are independent (e.g. M1 safety
controller).</td>
<td>Supervisor,
Controller,</td>
</tr>
<tr class="row-odd"><td>Operation
Workflows
Package</td>
<td>Contains Components that allow the automation
of high-level operation workflows relative to
the subsystems (e.g. unit test workflow, or
calibration workflow in case that several
sequences and human operations are involved).</td>
<td>Workflow</td>
</tr>
<tr class="row-even"><td>Management
Package</td>
<td>Contains Components that capture the
development backlog and the Assembly
Integration and Testing plans.</td>
<td>Plan,
Workflow</td>
</tr>
</tbody>
</table>
<div class="figure" id="id5">
<img alt="../../_images/m1-control-system-excerpt.png" src="../../_images/m1-control-system-excerpt.png" />
<p class="caption"><span class="caption-number">Fig. 3.8 </span><span class="caption-text">M1 Control System Package and Components Excerpt</span></p>
</div>
<p>The Figure above shows an example of the component organization for the M1
Control System. The structure of all the SWCS Subsystems has been analyzed and
developed following this pattern. As described above and later,
<a class="reference internal" href="../frameworks/domain_engineering.html#framework-domain-engineering"><span class="std std-ref">Domain Engineering</span></a> helps to identify sets of common components
that are the elementary building blocks of the SWCS subsystems.  The figure on
<a class="reference internal" href="#figure-core-components"><span class="std std-ref">Core Components</span></a> below shows those core component classes.  Each
component is defined by a set of <a class="reference internal" href="#figure-component-features"><span class="std std-ref">Component Features</span></a> whose
definitions are detailed in <a class="reference internal" href="../frameworks/core.html#core-framework"><span class="std std-ref">Core Framework</span></a>.  In fact, all SWCS modules,
including subsystems, packages, and components are fully specified by a text
file containing their features, as shown in the example of
<a class="reference internal" href="#baselinearaxiscontroller"><span class="std std-ref">BaseLinearAxisController</span></a>. The Section on
<a class="reference internal" href="../process/software_development_process.html#subsystem-specification-and-modeling"><span class="std std-ref">Subsystem Specification and Modeling</span></a> explains the formal specification
process in more detail.</p>
<div class="figure" id="id6">
<span id="figure-core-components"></span><img alt="../../_images/core-components.png" src="../../_images/core-components.png" />
<p class="caption"><span class="caption-number">Fig. 3.9 </span><span class="caption-text">Core Components</span></p>
</div>
<div class="figure" id="id7">
<span id="figure-component-features"></span><img alt="../../_images/component-features.png" src="../../_images/component-features.png" />
<p class="caption"><span class="caption-number">Fig. 3.10 </span><span class="caption-text">Component Features</span></p>
</div>
<p>Each Component has been assigned to a class that defines its default behavior in
the corresponding specification file. <a class="reference internal" href="#baselinearaxiscontroller"><span class="std std-ref">The following code-block excerpt</span></a> shows an example of the specification file that
defines the interface and features of a <em>BaseLinearAxisController</em>
(<a class="reference internal" href="../frameworks/device_control.html#device-control-framework"><span class="std std-ref">Device Control Framework</span></a> provides an overview of common motion control
Components). This specification is based on the IEC 61800-7-201 <a class="reference internal" href="../bibliography/bibliography.html#iec61800-7-201" id="id2">[IEC61800-7-201]</a>
Standard. The standard is concrete, but at the same time is designed to cover a
majority of the motion control use cases. The design process captures when a
Component (e.g., <em>agws_radial_stage_ctrl</em>) fits this default behavior. This
approach provides several benefits:</p>
<blockquote>
<div><ul class="simple">
<li>The specification of the component captures performance data, interfaces,
etc., all of which are used directly in the final implementation.
Furthermore, the specification closely dovetails a well-developed and
industrial standard, which significantly reduces the effort needed to
capture all the information.  This is in sync with the way industrial
companies specify their subsystems.  This often allows one to implement the
controller in a standard off-the-shelf smart drive, relieving the computing
platform of the responsibility to perform all the real-time functionality.
As the control loops run in dedicated standardized controllers, it is then
feasible to implement a layer that integrates the controller with the rest
of the observatory services using more productive high-level languages
(<a class="reference internal" href="../platform/software_development.html#software-development-platform"><span class="std std-ref">Software Development Platform</span></a>).</li>
<li>The mapping between specification and implementation is as direct as it
gets, and greatly facilitates the traceability of requirements.</li>
<li>The interfaces of similar Components share the same detailed specification
(e.g., the interfaces of all the linear stages are the same). This not only
allows the development of common control Components, but the possibility to
reuse common visualization or calibration Components, as well as testing
procedures.</li>
<li>It is possible to specify accordingly the majority of the elementary degrees
of freedom of the GMT as well as some Axis Groups (e.g.,
<em>BaseLinearXYController</em> for a Cartesian linear stage), as discussed in
<a class="reference internal" href="../tcs/tcs_introduction.html#tcs-introduction"><span class="std std-ref">Telescope Control System</span></a>. It is also possible to incorporate fault
management, and startup/shut down procedures in the same manner modeled
using supervisor components.  Supervisors are usually more specific to the
application and their implementation, thus require more customization. Other
domains, like user interface components or data processing components have
been subject to the same design process. <a class="reference internal" href="../frameworks/user_interface.html#user-interface-framework"><span class="std std-ref">User Interface Framework</span></a> and
<a class="reference internal" href="../frameworks/data_processing.html#data-processing-framework"><span class="std std-ref">Data Processing Framework</span></a> sections describe them respectively.</li>
</ul>
</div></blockquote>
<div class="highlight-coffeescript" id="baselinearaxiscontroller"><div class="highlight"><pre><span></span>properties:
    max_torque:
        desc:     &quot;This property shall indicate the configured maximum permissible
                   torque in the motor. The value shall be given per thousand of rated
                   torque.&quot;
        type:     &quot;uint16&quot;
        pattern:  &quot;pull&quot;
        max_rate: 1
        default:  1000

    motor_rated_torque:
        desc:     &quot;This property shall indicate the configured motor rated torque.
                   It is taken from the motors nameplate. All relative torque
                   data shall refer to this value. For linear motors, the object
                   name is not changed, but the motor rated force value shall be
                   entered as multiples of mN (milliNewton). The value shall be
                   given in mNm (milli Newton metre).&quot;
        type:     &quot;uint32&quot;
        pattern:  &quot;pull&quot;
        max_rate: 1
        default:  1000

    motion_profile_type:
        desc:     &quot;This property shall indicate the configured type of motion profile
                   used to perform a profiled motion.

                     Value        | Definition
                     -------------|----------------------------------
                     -32768 to -1 | Manufacturer-specific
                     0            | Linear ramp (trapezoidal profile)
                     1            | Sin2 ramp
                     2            | Jerk-free ramp
                     3            | Jerk-limited ramp
                     4 to 32767   | Reserved&quot;
        type:     &quot;int16&quot;
        pattern:  &quot;pull&quot;
        max_rate: 1
        default:  0
</pre></div>
</div>
<p><em>BaseLinearAxisController Specification File excerpt</em></p>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="integration.html" class="btn btn-neutral float-right" title="3.9. Instrument Software and Controls Integration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="frameworks.html" class="btn btn-neutral" title="3.7. Frameworks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.6.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>