

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.4.3. Coordinate Systems and Transformation Flow &mdash; GMT Software And Controls documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/additional_style.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="GMT Software And Controls documentation" href="../../../index.html"/>
        <link rel="up" title="5.4. Pointing Kernel" href="../pointing_kernel.html"/>
        <link rel="next" title="5.4.4. Virtual Telescopes and the Telescope Pointing Model" href="virtual_telescope.html"/>
        <link rel="prev" title="5.4.2. Workflow: Tracking, Pointing, and Guiding" href="workflow.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> GMT Software And Controls
          

          
            
            <img src="../../../_static/logowhite.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Architecture and Design</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction/swcs_introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../requirements/requirements.html">2. Requirements Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/overall_architecture.html">3. Overall Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/observatory_operations.html">4. Observatory Operation System</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../tcs_introduction.html">5. Telescope Control System</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../subsystems.html">5.1. Subsystems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../degrees_of_freedom.html">5.2. Degrees of Freedom</a></li>
<li class="toctree-l3"><a class="reference internal" href="../requirements.html">5.3. Requirements on TCS, Pointing, Tracking &amp; Guiding</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../pointing_kernel.html">5.4. Pointing Kernel</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pointing_software.html">5.4.1. <em>Telescope Pointing Software Libraries</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="workflow.html">5.4.2. <em>Workflow: Tracking, Pointing, and Guiding</em></a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">5.4.3. <em>Coordinate Systems and Transformation Flow</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="virtual_telescope.html">5.4.4. <em>Virtual Telescopes and the Telescope Pointing Model</em></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../wavefront_control.html">5.5. Wavefront Control System</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../services/observatory_services.html">6. Observatory Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../frameworks/component_frameworks.html">7. Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platform/platform.html">8. Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../process/process_introduction.html">9. Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../risks/risks.html">10. Software and Control Risks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bibliography/bibliography.html">11. Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../SWC_standards/index.html">Software and Controls Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_development/index.html">Software Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_products/index.html">Data Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/swc_sys_glossary.html">Software and Controls Acronyms and Definitions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">GMT Software And Controls</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Architecture and Design</a> &raquo;</li>
        
          <li><a href="../tcs_introduction.html">5. Telescope Control System</a> &raquo;</li>
        
          <li><a href="../pointing_kernel.html">5.4. Pointing Kernel</a> &raquo;</li>
        
      <li>5.4.3. <em>Coordinate Systems and Transformation Flow</em></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="coordinate-systems-and-transformation-flow">
<h1>5.4.3. <em>Coordinate Systems and Transformation Flow</em><a class="headerlink" href="#coordinate-systems-and-transformation-flow" title="Permalink to this headline">¶</a></h1>
<p>There are several coordinate systems in common use in astronomy.  When an
astronomer specifies a target coordinate, that information often needs to be
transformed into another system before it can be used to command the telescope
to a [Az, El] location and for telescope tracking.  The general implementation
strategy for pointing, tracking, and guiding involves two transformations.
First the transformation of target coordinates from celestial [α, δ] (or [Az,
El]) into an observed direction [Az, El] to point the telescope, accounting for:
coordinate systems, space motions, Earth motions, refraction, and other
non-instrumental terms.  Next the pointing kernel transforms observed [Az, El]
direction into mechanical encoder direction for the mount, via a “pointing
model” to account for: misalignment of the mount, tube flexure, instrument
flexure, etc., as well as user desired pointing origin, and offset from base
(e.g., for scanning).</p>
<p>Fully specifying a target’s location in the sky requires the following
information:</p>
<blockquote>
<div><ul class="simple">
<li>Coordinates – In [α, δ] or [Az, El].</li>
<li>Coordinate system – e.g., whether the [α, δ] is in FK4, FK5, or Topocentric
apparent system.</li>
<li>Equinox – e.g., B1950.0 or J2000.  Before 1984, the equinox is usually in
the B system, whereas on or after 1984, it is usually in the J system.  The
default is to assume J2000, FK5 coordinate system.</li>
<li>Epoch – For objects that have proper motions, this is the time-zero from
which proper motions are calculated.  The epoch is generally specified as a
given year (e.g., 1964.25).</li>
<li>Proper motion – There are various units for proper motion (arcsec yr
<sup>-1</sup>, arcmin century <sup>-1</sup>, etc.).  By default proper motion is
zero.</li>
<li>Parallax – Usually has units of [arcsec], and the default value is zero.</li>
<li>Radial velocity – Usually has units of [km s <sup>-1</sup>], and the default
value is zero.</li>
</ul>
</div></blockquote>
<p>Supported coordinate systems and the subsequent transformation flow are
described below.</p>
<p><strong>Coordinate Systems</strong></p>
<blockquote>
<div>The coordinate systems that will be supported are listed and described in
the Table below; the default will be ICRS:</div></blockquote>
<table border="1" class="docutils" id="id5">
<caption><span class="caption-number">Table 5.11 </span><span class="caption-text">Coordinate Systems Supported by the TCS</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Coordinate System</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>FK4 [α, δ]</td>
<td>Often referred to as the B1950 (Besselian epoch 1950.0) coordinate
system, this mean equatorial system pre-dates the 1976 IAU resolutions.</td>
</tr>
<tr class="row-odd"><td>FK5 [α, δ]</td>
<td>Often referred to as the J2000 (Julian epoch 2000.0) coordinate system,
this mean equatorial system post-dates the 1976 IAU resolutions.</td>
</tr>
<tr class="row-even"><td>ICRS [α, δ]</td>
<td>The International Celestial Reference System (ICRS) is the current
standard adopted by the International Astronomical Union, beginning
1998. The origin is at the barycenter of the solar system with the axes
fixed in space, and corresponds closely to FK5 J2000 to within ~30
mas for an object. [Default]</td>
</tr>
<tr class="row-odd"><td>Topocentric
apparent [α, δ]</td>
<td>Mostly used for solar system targets when inputs come from solar system
ephemeris.  programs where parallax (annual and diurnal), planetary
aberrations, and their motions (i.e., tracking rates in [α, δ]), would
already have been pre-computed.</td>
</tr>
<tr class="row-even"><td>Observed [Az, El]</td>
<td>Used when another program, external to the TCS, has made all the
transformations necessary.</td>
</tr>
<tr class="row-odd"><td>Mount [Az, El]</td>
<td>Mostly used for engineering and calibration applications. The relation
between the Mount [Az, El] and observed [Az, El] is given by the
pointing model.</td>
</tr>
</tbody>
</table>
<p><strong>Celestial Coordinate System Transformation Flow</strong></p>
<blockquote>
<div><p>Given a coordinate [α, δ] in any celestial coordinate system by an astronomer,
the TCS will convert it to FK5, J2000, and the current epoch, before producing
the apparent [α, δ] used to aim the telescope. The transformation flow and the
terms to correct for are given in the following
<a class="reference internal" href="#figure-transformation-flow"><span class="std std-ref">Figure</span></a>. The TCS uses SLALIB <a class="reference internal" href="../../bibliography/bibliography.html#wall12b" id="id1">[Wall12b]</a> to
transform celestial coordinates into an apparent direction to point the
telescope. New coordinate systems will be supported as interests and needs
arise by upgrading or replacing SLALIB with another tool.</p>
<div class="figure" id="id6">
<span id="figure-transformation-flow"></span><img alt="../../../_images/tcs-transformation-flow.png" src="../../../_images/tcs-transformation-flow.png" />
<p class="caption"><span class="caption-number">Fig. 5.6 </span><span class="caption-text">Transformation Flow</span></p>
</div>
<p>The above Figure shows the transformation flow taking coordinates from one
reference frame to another, adapted from Wallace <a class="reference internal" href="../../bibliography/bibliography.html#wall96" id="id2">[Wall96]</a> <a class="reference internal" href="../../bibliography/bibliography.html#wall12b" id="id3">[Wall12b]</a>. All
input coordinates are eventually converted into FK5, J2000, current epoch,
before final conversions to apparent [α, δ] to point the telescope.</p>
</div></blockquote>
<p><strong>Transformation of Celestial System to Mount Encoder Positions</strong></p>
<blockquote>
<div><p>The <a class="reference internal" href="#figure-pointing-flow"><span class="std std-ref">TCS/MCS Pointing Flow Figure (below)</span></a> shows
the steps taken to convert celestial coordinates [α, δ] into instrumental
direction [Az, El] and rotator angles that the mount servo system needs to
position the telescope. There are two flow directions, distinguished by how
often the information needs to update: downward (slow, 20 Hz) and upward
(fast, &gt; 20 Hz). The downward direction (upper half of Figure) first transforms
target celestial coordinates into a corresponding line-of- sight [Az, El]
coordinate, correcting for terms that are independent of the telescope mount.
Those terms include: aberrations (annual and diurnal), light deflection,
precession/nutation, Earth’s rotation, motion around the sun, parallax, and
refraction.</p>
<p>Next, additional errors factor in via pointing models (blue box, and see
<a class="reference internal" href="virtual_telescope.html#figure-virtual-telescope"><span class="std std-ref">Virtual Telescope Figure (below)</span></a>), such as
mount non-perpendicularity and tube flexure. A pointing model consists of a
set of coefficients that accounts for non-perpendicularity of the telescope
axes, imperfections in alignment, flexure, or other mechanical imperfections.
Lastly, to position the target coordinate at the user desired locationon the
science detector (i.e., a slit or image pixel), it is necessary to offset the
pointing origin to that location, which involves adjusting the rotator angle
and position offset relative to the optical telescope axis. The above
transformations result in the actual demand, angle [Az, El] for aiming the
telescope mount.</p>
<p>In contrast, upward transformations (lower half of Figure) take place at much
higher frequencies (&gt;20 Hz), the purpose of which is to react to fast
mechanical positioning demands, such as target scanning, tip-tilt guiding,
wind perturbations, AO closed loop operations, image centroiding, and encoder
errors.  The telescope Az/El servo system compares the mount demand (downward
flow) versus that achieved (upward flow) to determine the appropriate actions
for the mount.</p>
<div class="figure" id="id7">
<span id="figure-pointing-flow"></span><img alt="../../../_images/tcs-pointing-flow.png" src="../../../_images/tcs-pointing-flow.png" />
<p class="caption"><span class="caption-number">Fig. 5.7 </span><span class="caption-text">TCS/MCS Pointing Flow.  The blue box is the telescope pointing model,
details of which are elaborated in <a class="reference internal" href="virtual_telescope.html#figure-virtual-telescope"><span class="std std-ref">the Figure below on the Virtual
Telescope</span></a>.  Horizontal arrows indicate the
different pointing coordinates: Mean [α, δ], Apparent [α, δ], Topocentric
[-h, δ], Observed [Az, El], and Mount [Az, El], users may specify and where
they enter the flow in the transformation.</span></p>
</div>
<p>The TCS/MCS pointing flow, above, adapted from Wallace <a class="reference internal" href="../../bibliography/bibliography.html#wall12a" id="id4">[Wall12a]</a>, shows the
transformation flow that takes target positions from the TCS (e.g., celestial
coordinates [α, δ]) into mount encoder demands delivered to the MCS servo
systems (in small box).  Details of the pointing model, blue box, are
elaborated in <a class="reference internal" href="virtual_telescope.html#figure-virtual-telescope"><span class="std std-ref">the Figure below on the Virtual
Telescope</span></a>.</p>
</div></blockquote>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="virtual_telescope.html" class="btn btn-neutral float-right" title="5.4.4. Virtual Telescopes and the Telescope Pointing Model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="workflow.html" class="btn btn-neutral" title="5.4.2. Workflow: Tracking, Pointing, and Guiding" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.8.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>