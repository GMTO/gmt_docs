

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.2.3. System Supervisor Service &mdash; GMT Software And Controls documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/additional_style.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="GMT Software And Controls documentation" href="../../../index.html"/>
        <link rel="up" title="6.2. Common Services" href="../common.html"/>
        <link rel="next" title="6.2.4. Telemetry Service" href="telemetry.html"/>
        <link rel="prev" title="6.2.2. Command Execution Service" href="command_execution.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> GMT Software And Controls
          

          
            
            <img src="../../../_static/logowhite.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.12
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Architecture and Design</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction/swcs_introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../requirements/requirements.html">2. Requirements Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/overall_architecture.html">3. Overall Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/observatory_operations.html">4. Observatory Operation System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tcs/tcs_introduction.html">5. Telescope Control System</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../observatory_services.html">6. Observatory Services</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../architecture.html">6.1. Service Architecture</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../common.html">6.2. Common Services</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="engineering_UI.html">6.2.1. <em>Engineering User Interface Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="command_execution.html">6.2.2. <em>Command Execution Service</em></a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">6.2.3. <em>System Supervisor Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="telemetry.html">6.2.4. <em>Telemetry Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="alarm.html">6.2.5. <em>Alarm Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="logging.html">6.2.6. <em>Logging Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="networking_infrastructure.html">6.2.7. <em>Networking Infrastructure Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html">6.2.8. <em>Configuration Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="on-line_documentation.html">6.2.9. <em>On-Line Documentation Service</em></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../frameworks/component_frameworks.html">7. Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platform/platform.html">8. Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../process/process_introduction.html">9. Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../risks/risks.html">10. Software and Control Risks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bibliography/bibliography.html">11. Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../SWC_standards/index.html">Software and Controls Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_development/index.html">Software Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_products/index.html">Data Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/swc_sys_glossary.html">Software and Controls Acronyms and Definitions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">GMT Software And Controls</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Architecture and Design</a> &raquo;</li>
        
          <li><a href="../observatory_services.html">6. Observatory Services</a> &raquo;</li>
        
          <li><a href="../common.html">6.2. Common Services</a> &raquo;</li>
        
      <li>6.2.3. <em>System Supervisor Service</em></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="system-supervisor-service">
<span id="services-system-supervisor"></span><h1>6.2.3. <em>System Supervisor Service</em><a class="headerlink" href="#system-supervisor-service" title="Permalink to this headline">Â¶</a></h1>
<p>Health and quality monitoring is central to ensuring that all the hardware,
devices, components, and so on down the line are working properly and safely.
As such, means of monitoring are provided inside many hardware and their
devices at all levels via controller supervisors (which are defined as part of
the SWCS architecture).</p>
<p>The GMT has a large number of distributed Subsystems and Components that are
deployed in different computers or embedded units to implement telescope
control functions. Each Subsystem is required to deploy a Supervisor to
coordinate, monitor, and manage, the health status of its respective software
and hardware Components. In order to guarantee reliability it is important to
monitor and manage the overall health of these Subsystems and Components. The
System Supervisor is thus in charge of the overall health of the system by
watching over the hierarchy. It ensures that the system as a whole can handle
fault tolerance, service availability, and failure detection, thus ensuring
the overall robustness.</p>
<p>The implementation of supervisory functions in a dedicated subsystem allows
the rest of the components to focus on their primary operational functions. It
allows the separation of responsibilities, thus enabling the supervisory
strategies to evolve independently from their subsystems. For example, it is
possible to implement a new supervisory strategy without the need to modify
the application subsystems. This strategy also simplifies the implementation
of the Supervisory Service, as it only has to focus on monitoring and managing
the health of the system. A mix of watchdog, heartbeat, and ping, mechanisms
usually accomplishes this.</p>
<p>The System Supervisor accesses the database to load runtime system
configurations appropriate to a given operation mode (e.g., only the health of
focal stations that are considered active or standby or the hardware installed
on the telescope, FSM vs. ASM, are being monitored).</p>
<div class="figure" id="id1">
<img alt="../../../_images/system-supervision-block-diagram.png" src="../../../_images/system-supervision-block-diagram.png" />
<p class="caption"><span class="caption-number">Fig. 6.5 </span><span class="caption-text">System Supervisor Service Block Diagram.   (1) A component creates a
<em>health</em> event and invokes the <em>health_check</em> method inherited from the
<em>BaseComponent</em> or <em>BaseSupervisor</em> classes. (2) A service adapter sends the
<em>health</em> event to the supervisor using a push socket. (3) The service
supervisor forwards the event to the subscribed components using a pub
socket.</span></p>
</div>
<p>The above System Supervisor design is inspired by <a class="reference external" href="http://en.wikipedia.org/wiki/Erlang_(programming_language)">Erlang/OTP</a> which is one of
the most reliable systems. It is designed to recover easily from fault
conditions. The emphasis in Erlang is not so much to reduce the risk of
failure, but to consider fault conditions as part of the nominal scenario so
as to be able to recover from faults quickly and efficiently.</p>
<table border="1" class="docutils" id="id2">
<caption><span class="caption-number">Table 6.4 </span><span class="caption-text">SWCS System Supervisor Requirements (Level 3)</span><a class="headerlink" href="#id2" title="Permalink to this table">Â¶</a></caption>
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Requirement</th>
<th class="head">Statement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>System Health
Assessment</td>
<td>Provide the capability to assess the overall health of the system.</td>
</tr>
<tr class="row-odd"><td>Overall System Health</td>
<td>Provide the capability of continuous performance, status, and
system health monitoring.</td>
</tr>
<tr class="row-even"><td>Interlock Safety
System Interface</td>
<td>Interface with the ISS to ensure the safe operation of the system.</td>
</tr>
</tbody>
</table>
<p><strong>Service Capabilities</strong></p>
<blockquote>
<div><p>The System Supervisor provides the following capabilities:</p>
<blockquote>
<div><ul class="simple">
<li>Coordinates the GMT automatic start-up and shutdown procedures</li>
<li>Starts and shuts down the subsystem hardware</li>
<li>Re-starts any SWC subsystem that crashes</li>
<li>Re-starts any SWC subsystem when requested by a user</li>
<li>Ensures that all the subsystems required by a given operation mode are in
nominal operation state (e.g., ping/watchdog)</li>
<li>Enables users to query the health of all subsystems at various
granularities. Querying may be performed via user interfaces at high levels,
and direct command line interfaces at low levels. The query system will
allow users to learn about devices, commands, and meaning of the parameters
and outputs, on-line and interactively.</li>
<li>Manages optimal information flow to inform human supervisors. This
involves processing and filtering of information.</li>
<li>Provides effective and efficient visualization displays that adequately
capture the overall health of the observatory, telescope, instruments, and
weather environment.</li>
<li>Reports host information: Operating system resources usage, version of
operating system and installed software, version of every software module,
validation vs. specified configuration.</li>
<li>Enables automated localization and alert of problems and devices that do
not operate within nominal ranges, or environmental conditions that endanger
the safety of the telescope or observatory.</li>
<li>Reports information about the processes running in the system: start time,
status, etc.</li>
<li>Administers the system deployment model</li>
<li>Redeploys a service or process in an alternative computer if the one
assigned becomes unresponsive.</li>
<li>Implements secondary fault tolerance and load balancing. (The system
supervisor, analyses the load of the different services and may deploy
additional resources to address additional demands)</li>
<li>Detects health of the underlying communication infrastructure</li>
<li>Implements an Observatory Wide rule system to match global rule conditions
and trigger associated actions.</li>
<li>Acts as a Supervisor of supervisors. Each subsystem is required to deploy
a Subsystem supervisor.</li>
</ul>
</div></blockquote>
</div></blockquote>
<p><strong>Service Packages</strong></p>
<blockquote>
<div><p>The System Supervisor Subsystem is organized in the following configuration:</p>
<div class="figure" id="id3">
<img alt="../../../_images/system_supervisor_product_tree.png" src="../../../_images/system_supervisor_product_tree.png" />
<p class="caption"><span class="caption-number">Fig. 6.6 </span><span class="caption-text">System Supervisor Product Tree</span></p>
</div>
<p><em>Service Package (server &amp; adapter)</em> -</p>
<blockquote>
<div>A supervisory server system, deployed in several machines, takes care of
implementing the System Supervisory functions. Additionally the system
supervisor server provides features that allow managing of load balancing
and fault tolerance. The system supervisor operation, as with any other
component, can be monitored by the telemetry system defining monitoring
features in its interface (e.g., the number of components connected,
number of active alarms, state of the server, instant alarm throughput).</div></blockquote>
<p><em>Analytics Package</em> -</p>
<blockquote>
<div><p>The analytics package provides the following capabilities:</p>
<blockquote>
<div><ul class="simple">
<li>Allows reconstructing the history of the health of the system.</li>
<li>Allows the analysis package components to run in real time streaming mode.</li>
<li>Triggers any action associated with the system supervisor rules.</li>
</ul>
</div></blockquote>
</div></blockquote>
<p><em>Visualization Package</em> -</p>
<blockquote>
<div><p>The visualization package provides custom panels that allow observatory
operators to monitor and manage the System Supervision System, summarized
in the following table:</p>
<blockquote>
<div><table border="1" class="docutils" id="id4">
<caption><span class="caption-number">Table 6.5 </span><span class="caption-text">Alarm Service Visualization Panels</span><a class="headerlink" href="#id4" title="Permalink to this table">Â¶</a></caption>
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Visualization Panel</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Global Panel</td>
<td><p class="first">Provides an overall view of the status of the supervisor system. The following
information will be displayed:</p>
<ul>
<li><p class="first">State of each telemetry server component (e.g., RUNNING, STOPPED, FAULT)</p>
</li>
<li><p class="first">State of each telemetry adapter component  (e.g., RUNNING, STOPPED, FAULT)</p>
</li>
<li><p class="first">List of active monitors</p>
</li>
<li><p class="first">Overall view of the system health, one box per subsystem color coded:</p>
<blockquote>
<div><ul class="simple">
<li>green: No active monitors in fault state</li>
<li>yellow: No serious active alarms</li>
<li>red: The monitor system is not working</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Global life-cycle actions (global start and stop of the system, switching
modes)</p>
</li>
</ul>
<p class="last">Note: State information shall be color-coded.</p>
</td>
</tr>
<tr class="row-odd"><td>Navigation Panel</td>
<td>Provides a way to navigate all the monitor servers and adapters. From the
navigation panel the state and detailed info of every server and adapter can be
accessed.</td>
</tr>
<tr class="row-even"><td>Guide Panel</td>
<td>Displays the on line documentation of the system supervisor service.
Allows access to the user guide as well as the metadata (model information) of
the runtime objects.</td>
</tr>
<tr class="row-odd"><td>Analytics Panel</td>
<td><p class="first">Provides access to the runtime statistics of the supervisor service.
These should include at least.</p>
<blockquote class="last">
<div><ul class="simple">
<li>Number and state (running/stopped/fault)</li>
<li>Instant throughput of the system</li>
<li>Total and Subsystem Monitor samples/sec</li>
<li>Total data bandwidth</li>
<li>Persistence capacity (used/available)</li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p><strong>Service Deployment</strong></p>
<blockquote>
<div><p>The System Supervisor service is a distributed system; it consists of
several components running on different computers in the GMT control
network. A System Supervisor server is deployed in one of the Sever Class
Computers in the electronics room. Each SWCS subsystem is required to deploy
a Subsystem Supervisor Component in the corresponding computer. It is
important to emphasize that all of the SWCS subsystems are required to
deploy a supervisor, this includes not only Device control Subsystems but
also user interface applications.</p>
<p>The visualization package components are deployed in the control room
Operation Support Computers.</p>
</div></blockquote>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="telemetry.html" class="btn btn-neutral float-right" title="6.2.4. Telemetry Service" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="command_execution.html" class="btn btn-neutral" title="6.2.2. Command Execution Service" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.12.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>