

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.2.5. Alarm Service &mdash; GMT Software And Controls documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/additional_style.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="GMT Software And Controls documentation" href="../../../index.html"/>
        <link rel="up" title="6.2. Common Services" href="../common.html"/>
        <link rel="next" title="6.2.6. Logging Service" href="logging.html"/>
        <link rel="prev" title="6.2.4. Telemetry Service" href="telemetry.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> GMT Software And Controls
          

          
            
            <img src="../../../_static/logowhite.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.13
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Architecture and Design</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction/swcs_introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../requirements/requirements.html">2. Requirements Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/overall_architecture.html">3. Overall Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/observatory_operations.html">4. Observatory Operation System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tcs/tcs_introduction.html">5. Telescope Control System</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../observatory_services.html">6. Observatory Services</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../architecture.html">6.1. Service Architecture</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../common.html">6.2. Common Services</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="engineering_UI.html">6.2.1. <em>Engineering User Interface Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="command_execution.html">6.2.2. <em>Command Execution Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="system_supervisor.html">6.2.3. <em>System Supervisor Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="telemetry.html">6.2.4. <em>Telemetry Service</em></a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">6.2.5. <em>Alarm Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="logging.html">6.2.6. <em>Logging Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="networking_infrastructure.html">6.2.7. <em>Networking Infrastructure Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html">6.2.8. <em>Configuration Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="on-line_documentation.html">6.2.9. <em>On-Line Documentation Service</em></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../frameworks/component_frameworks.html">7. Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platform/platform.html">8. Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../process/process_introduction.html">9. Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../risks/risks.html">10. Software and Control Risks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bibliography/bibliography.html">11. Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../SWC_standards/index.html">Software and Controls Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_development/index.html">Software Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_products/index.html">Data Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/swc_sys_glossary.html">Software and Controls Acronyms and Definitions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">GMT Software And Controls</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Architecture and Design</a> &raquo;</li>
        
          <li><a href="../observatory_services.html">6. Observatory Services</a> &raquo;</li>
        
          <li><a href="../common.html">6.2. Common Services</a> &raquo;</li>
        
      <li>6.2.5. <em>Alarm Service</em></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="alarm-service">
<span id="services-alarm"></span><h1>6.2.5. <em>Alarm Service</em><a class="headerlink" href="#alarm-service" title="Permalink to this headline">¶</a></h1>
<p>The alarm system, along with the system supervisor and the Interlock &amp; Safety
System (ISS), provide functions to assess and manage the overall health of the
system. Alarm events are triggered when an alarm condition is detected by a
Component (e.g., Controller or Supervisor). Alarm events are time-stamped and
include information on the component that has triggered the alarm.</p>
<p>The alarm system associates (using metadata) a set of actions with every alarm
event that has to be monitored manually or executed automatically. These
actions can include a reference to a workflow or sequence if one has been
defined.</p>
<p>Alarm conditions are part of the specification of a component, shown in the
following code-block.  When a fault condition occurs in a component, it is the
responsibility of that component to either handle the fault or to transmit
alarms up the supervisory chain until they reach a component that can address
the problem, or else eventually up to the operations staff.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<span id="specification-alarm-service"></span><div class="code-block-caption"><span class="caption-number">Listing 6.1 </span><span class="caption-text">Alarm Event Specification</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-coffeescript"><div class="highlight"><pre><span></span><span class="nx">EnumType</span> <span class="s">&quot;AlarmSeverity&quot;</span><span class="p">,</span>
    <span class="nv">desc: </span><span class="s">&quot;Defines the severity level of the AlarmEvent&quot;</span>
    <span class="nv">literals:</span>
        <span class="nv">ALARM_A: </span><span class="s">&quot;&quot;</span>

<span class="nx">StructType</span> <span class="s">&quot;AlarmEvent&quot;</span><span class="p">,</span>
    <span class="k">extends</span><span class="o">:</span> <span class="p">[]</span>
    <span class="nv">abstract: </span><span class="kc">false</span>
    <span class="nv">desc: </span><span class="s">&quot;Time stamped Alarm Event&quot;</span>
    <span class="nv">elements:</span>
        <span class="nv">id:</span>
            <span class="nv">type: </span><span class="s">&quot;string&quot;</span>
            <span class="nv">desc: </span><span class="s">&quot;Alarm ID. Allows associating the alarm with the Alarm description&quot;</span>
        <span class="nv">value:</span>
            <span class="nv">type: </span><span class="s">&quot;string&quot;</span>
            <span class="nv">desc: </span><span class="s">&quot;Text message with additional information related to the alarm event occurrence&quot;</span>
        <span class="nv">timestamp:</span>
            <span class="nv">type: </span><span class="s">&quot;TimeStamp&quot;</span>
            <span class="nv">desc: </span><span class="s">&quot;Trigger time of the alarm event&quot;</span>
        <span class="nv">severity:</span>
            <span class="nv">type: </span><span class="s">&quot;AlarmSeverity&quot;</span>
            <span class="nv">desc: </span><span class="s">&quot;Level of severity of the alarm event&quot;</span>
        <span class="nv">source:</span>
            <span class="nv">type: </span><span class="s">&quot;string&quot;</span>
            <span class="nv">desc: </span><span class="s">&quot;URI of the component that has detect the alarm condition&quot;</span>
</pre></div>
</div>
</div>
<p><strong>Service Capabilities</strong></p>
<blockquote>
<div><p>The Alarm System provides the following capabilities:</p>
<blockquote>
<div><ul class="simple">
<li>Notification of alarm events from any component in the system</li>
<li>Analysis of the stream of alarms to identify system health conditions</li>
<li>Filtering of alarms</li>
<li>Storage of alarm events</li>
<li>Visualization of the status of all the alarms in the system</li>
<li>Correlation via timestamp with any other event in the system</li>
<li>Logging operator acknowledgment.</li>
</ul>
</div></blockquote>
</div></blockquote>
<p><strong>Service Packages</strong></p>
<blockquote>
<div><p>The implementation of the above capabilities is distributed to a set of
packages:</p>
<blockquote>
<div><p><em>Service Package (server &amp; adapter)</em> -</p>
<blockquote>
<div><p>An alarm server system, deployed in several machines, takes care of
receiving alarms, storing them and forwarding them to the alarm UI
panels, or the alarm analysis system.</p>
<p>In addition to the handling of alarm events, the alarm server provides
features that allow managing of load balancing and fault tolerance. The
alarm system operation, as with any other component, can be monitored by
the telemetry system by specifying monitoring features in its interface
(e.g., the number of components connected, the number of active alarms,
state of the server, instant alarm throughput).</p>
<p>The following alarm service block diagram shows how distributed
components and supervisors access the Alarm Adapter interface to notify
an alarm event. Adapters forward the alarm events to the alarm
supervisor using push/pull sockets. Usually a single Alarm Adapter is
deployed for all the components of a Subsystem that are collocated in
the same computer.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<div class="figure" id="id2">
<img alt="../../../_images/alarm-service-block-diagram.png" src="../../../_images/alarm-service-block-diagram.png" />
<p class="caption"><span class="caption-number">Fig. 6.8 </span><span class="caption-text">Alarm Service Block Diagram.  (1) The component detects an alarm event
and invokes the <em>send_alarm</em> method inherited from the <em>BaseComponent</em>
or <em>BaseSupervisor</em> classes. (2) The service adapter sends the alarm
event to the supervisor using a push socket. The <em>Service supervisor</em>
applies the business process rules associated with the alarm event if
they are defined.  (3) The <em>Service supervisor</em> publishes the event to
the subscribed components using a pub socket.</span></p>
<div class="legend">
<blockquote>
<div><p><em>Analytics Package</em> -</p>
<blockquote>
<div>When an alarm is triggered, it may be useful to reconstruct the history and
states of a subsystem surrounding that event. The analytics package allows
for that possibility. The <em>analysis package</em> components run in real time
streaming mode.</div></blockquote>
<p><em>Visualization Package</em> -</p>
<blockquote>
<div><p>The visualization package provides custom panels that allow observatory
operators to monitor and manage the alarms of the system. This is done
implementing several optimize visualizations.</p>
<table border="1" class="docutils" id="id3">
<caption><span class="caption-number">Table 6.9 </span><span class="caption-text">Alarm Service Visualization Panels</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Visualization Panel</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Global Panel</td>
<td><p class="first">Provides an overall view of the status of the alarm system. The following
information will be displayed:</p>
<blockquote class="last">
<div><ul class="simple">
<li>State of each telemetry server component
(e.g., RUNNING, STOPPED, FAULT)</li>
<li>State of each telemetry adapter component
(e.g., RUNNING, STOPPED, FAULT)</li>
<li>List of active monitors</li>
<li>Overall view of the system health, one box per subsystem color coded:
- green: No active alarms
- yellow: No serious active alarms
- red: Critical alarm active</li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td>Navigation Panel</td>
<td>Provides a way to navigate all the alarm servers and adapters. From the
navigation panel the state and detailed info of every server and adapter can be
accessed.</td>
</tr>
<tr class="row-even"><td>Analytics Panel</td>
<td><p class="first">Provides access to the runtime statistics of the alarm service.
These should include at least.</p>
<blockquote class="last">
<div><ul class="simple">
<li>Number and state (running/stopped/fault)</li>
<li>Instant throughput of the system</li>
<li>Alarms/sec</li>
<li>Total data bandwidth</li>
<li>Persistence capacity (used/available)</li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
</div>
</div>
<p><strong>Service Deployment</strong></p>
<blockquote>
<div>During operation, the alarm system components are deployed in different
computers. A simple library is added to every component that allows the
sending of alarm events. This is done via a simple API that doesn’t expose
any service details to the component.</div></blockquote>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="logging.html" class="btn btn-neutral float-right" title="6.2.6. Logging Service" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="telemetry.html" class="btn btn-neutral" title="6.2.4. Telemetry Service" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.13.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>