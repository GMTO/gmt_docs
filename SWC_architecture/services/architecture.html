

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.1. Service Architecture &mdash; GMT Software And Controls documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/additional_style.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="GMT Software And Controls documentation" href="../../index.html"/>
        <link rel="up" title="6. Observatory Services" href="observatory_services.html"/>
        <link rel="next" title="6.2. Common Services" href="common.html"/>
        <link rel="prev" title="6. Observatory Services" href="observatory_services.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GMT Software And Controls
          

          
            
            <img src="../../_static/logowhite.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../release_notes/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Architecture and Design</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction/swcs_introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../requirements/requirements.html">2. Requirements Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/overall_architecture.html">3. Overall Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/observatory_operations.html">4. Observatory Operation System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tcs/tcs_introduction.html">5. Telescope Control System</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="observatory_services.html">6. Observatory Services</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">6.1. Service Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#service-adapters">6.1.1. <em>Service Adapters</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="#service-supervisors">6.1.2. <em>Service Supervisors</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="#service-bus">6.1.3. <em>Service Bus</em></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="common.html">6.2. Common Services</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/component_frameworks.html">7. Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platform/platform.html">8. Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process/process_introduction.html">9. Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../risks/risks.html">10. Software and Control Risks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bibliography/bibliography.html">11. Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../SWC_standards/index.html">Software and Controls Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software_development/index.html">Software Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_products/index.html">Data Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/swc_sys_glossary.html">Software and Controls Acronyms and Definitions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GMT Software And Controls</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Architecture and Design</a> &raquo;</li>
        
          <li><a href="observatory_services.html">6. Observatory Services</a> &raquo;</li>
        
      <li>6.1. Service Architecture</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="service-architecture">
<span id="services-architecture"></span><h1>6.1. Service Architecture<a class="headerlink" href="#service-architecture" title="Permalink to this headline">¶</a></h1>
<p>The implementation of the common services follows a distributed architecture
(see following figure) in which service adapters allow distributed components to
access the service bus, while service supervisors coordinate services.  Service
adapters define the low-level interface between components and observatory
services. Communication between adapters and supervisors may follow different
communication patterns (e.g., publish/subscribe, push/pull, request/reply). The
Section on <a class="reference internal" href="../frameworks/core.html#core-framework"><span class="std std-ref">Core Framework</span></a> describes the different communication patterns
that are available.</p>
<div class="figure" id="id3">
<span id="section-service-adapters"></span><img alt="../../_images/common-services-architecture.png" src="../../_images/common-services-architecture.png" />
<p class="caption"><span class="caption-number">Fig. 6.2 </span><span class="caption-text">Common Services Architecture.  (1) Components access the service through the
adapter API when an event is generated (e.g., alarm detected). (2) The
“payload” (e.g. alarm event, telemetry sample) is transported from adapter to
supervisor through the <a class="reference internal" href="#service-bus"><span class="std std-ref">Service Bus</span></a>.  (3) <a class="reference internal" href="#service-supervisors"><span class="std std-ref">Service Supervisors</span></a>
coordinate services, and process the service payload when received.  (4) The
service payload is stored and/or forwarded to components that subscribe to the
service.  (5)  Operators can filter or cross-correlate any persistent data
stream for further analysis.  .. _service_adapters:</span></p>
</div>
<table border="1" class="docutils" id="id4">
<caption><span class="caption-number">Table 6.3 </span><span class="caption-text">SWCS Service Architecture Requirements (Level 3)</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><div class="first last line-block">
<div class="line">Requirement</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Statement</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Architecture</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Establish an architecture for instrument software and control</div>
<div class="line">subsystems.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Reference Model</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide a reference model to design control subsystems in a</div>
<div class="line">consistent way.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Semantic Model</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide a method to specify formally the features and</div>
<div class="line">capabilities provided by every subsystem.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Software/Hardware</div>
<div class="line">Standards</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Establish a set of software/hardware standards (GMT_SWC-</div>
<div class="line">REF-00029) for the project.</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="section" id="service-adapters">
<h2>6.1.1. <em>Service Adapters</em><a class="headerlink" href="#service-adapters" title="Permalink to this headline">¶</a></h2>
<p>Service adapters enable every distributed component in the system to access
infrastructure common services.  They serve as the low level interface between
hardware and software components and observatory services.  Service adapters
help to:</p>
<blockquote>
<div><ul class="simple">
<li>Isolate distributed components from service implementation.  This
helps to manage obsolescence in hardware and software.</li>
<li>Focus application developers on developing applications (e.g. control,
data processing).  Application developers should not need to solve
infrastructure problems that are common to all subsystems.</li>
<li>Standardize base implmentation. A base component (in an object oriented
sense) implementation provides a template for all service adapters
to bootstrap from.</li>
<li>Simplify interaction and deployment.  Software components need to only
know about the service native API, and not how the service or
distributed communication are implemented.  They hide details like
how to manage connection, service threads, marshaling and de-marshaling
of events and data streams, time stamps, middleware configuration,
optimal communication pattern, how to register component services
in runtime database.</li>
</ul>
</div></blockquote>
<p>Base classes in the Core Component Framework wrap these low-level interfaces
in a simplified high-level application-programming interface (API), reducing
the overhead necessary to integrate a software component into the GMT system.
When a component is deployed and its service adapters setup and bootstrapped,
all the component service features become available system-wide. Service
adapters can be shared between components depending on the performance
requirements.</p>
<p>The adapter hides from the component service implementation details like:</p>
<blockquote>
<div><ul class="simple">
<li>Connection management</li>
<li>Service Thread management</li>
<li>Marshaling and de-marshaling of event and data streams</li>
<li>Time stamping of events</li>
<li>Specific middleware setup</li>
<li>Implementation of optimal communication patterns</li>
<li>Registering of component service functions in the runtime database</li>
</ul>
</div></blockquote>
<p>Communication between adapters and supervisors may follow different
communication patterns (e.g., publish/subscribe, push/pull, request/reply).
The Section on <a class="reference internal" href="../frameworks/core.html#core-framework"><span class="std std-ref">Core Framework</span></a> describes the different communication
patterns that are available.</p>
</div>
<div class="section" id="service-supervisors">
<span id="id1"></span><h2>6.1.2. <em>Service Supervisors</em><a class="headerlink" href="#service-supervisors" title="Permalink to this headline">¶</a></h2>
<p>Service supervisors coordinate and maintain the health status of the services.
Some services may require several servers running in a cluster, or may connect
to a high performance file system for persistent high throughput events or
data streams. The service supervisor provides the following capabilities:</p>
<blockquote>
<div><ul class="simple">
<li>Archiving of the data and event streams coming from service adapters</li>
<li>Implementation of optimal communication pattern</li>
<li>Archiving of the service configuration data</li>
<li>Service analytics and reporting</li>
<li>Monitoring the health of the service adapters (the System Supervisor is
responsible for monitoring the health of the different Service Supervisors)</li>
<li>Publish/subscribe access to the data and event streams</li>
<li>Load balancing</li>
<li>Fault tolerance</li>
<li>Scaling due to bandwidth or growing storage demands (e.g., new systems
added to the observatory)</li>
<li>Visualization of service data</li>
<li>Cross filtering of multidimensional datasets.</li>
</ul>
</div></blockquote>
<p>The implementation of the service supervisors is not monolithic. Depending
on the prevailing communication patterns, it is possible to implement
different ways to distribute the process workload (e.g., broker, fan-out).
This allows the efficient use of computing resources and elastic adaptation
to the load.</p>
</div>
<div class="section" id="service-bus">
<span id="id2"></span><h2>6.1.3. <em>Service Bus</em><a class="headerlink" href="#service-bus" title="Permalink to this headline">¶</a></h2>
<p>A dedicated service bus connects Service Adapters and Service Supervisors.
Each service bus provides a logical network connection that addresses the
specific throughput, bandwidth and latency requirements of the service.  The
Section on the <a class="reference internal" href="../platform/networking.html#networking"><span class="std std-ref">networking platform</span></a> provides a description
of the GMT networking infrastructure.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="common.html" class="btn btn-neutral float-right" title="6.2. Common Services" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="observatory_services.html" class="btn btn-neutral" title="6. Observatory Services" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.4-1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>