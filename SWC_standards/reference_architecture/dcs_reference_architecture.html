

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DCS Reference Architecture &mdash; GMT Software And Controls documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/additional_style.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="GMT Software And Controls documentation" href="../../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GMT Software And Controls
          

          
            
            <img src="../../_static/logowhite.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SWC_architecture/index.html">Architecture and Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Software and Controls Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software_development/index.html">Software Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_products/index.html">Data Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/swc_sys_glossary.html">Software and Controls Acronyms and Definitions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GMT Software And Controls</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>DCS Reference Architecture</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dcs-reference-architecture">
<span id="id1"></span><h1>DCS Reference Architecture<a class="headerlink" href="#dcs-reference-architecture" title="Permalink to this headline">¶</a></h1>
<p>This chapter gives a description of the GMT Device Control Subsystems (DCS)
terminology and architecture, its design philosophy and its main functions.  The
<a class="reference internal" href="../../SWC_architecture/index.html#slpdr"><span class="std std-ref">Software and Controls Architecture and Design</span></a> provides an
extended description of the overall Software and Controls System that
illustrates how the different DCS fit in the overall software architecture.</p>
<p>Device Control Subsystems (e.g. primary mirror control system, adaptive
secondary control system, instrument control system, etc.) command mechanical
degrees of freedom or read from optical and other sensors. Degrees of freedom
are represented by a set of state variables that define the observed and desired
state of the system and are often updated in an arrangement of nested control
loops. Although the primary function of a Device Control Subsystem is the
control of hardware devices, an efficient and robust operation requires the
development of:</p>
<blockquote>
<div><ul class="simple">
<li>Calibration software that is required to produce error maps or models that
allow the control system to achieve the required performance;</li>
<li>Diagnosis software that provides the capability to observe and verify the
behavior of some, quite complex, hardware and software subsystems,
especially during the commissioning phase;</li>
<li>Safety functions that prevent the engagement of the interlock and safety
system, which acts usually in a more ‘dramatic way’; and</li>
<li>Supervision software that coordinates several components or subsystems to
guarantee their correct states and that implements fault management
strategies that enable the graceful degradation of performance in
non-nominal scenarios.</li>
</ul>
</div></blockquote>
<div class="section" id="context">
<span id="dcs-context"></span><h2>Context<a class="headerlink" href="#context" title="Permalink to this headline">¶</a></h2>
<p>The following diagram extends the previous one to include the DCS components in
the context of the overall GMT software:</p>
<div class="figure" id="id4">
<span id="figure-dcs-context"></span><img alt="../../_images/dcs_context.png" src="../../_images/dcs_context.png" />
<p class="caption"><span class="caption-text">DCS Context</span></p>
</div>
<p>The DCS Reference Architecture elements:</p>
<blockquote>
<div><p><strong>GMT SWC Core Systems</strong></p>
<blockquote>
<div><p>Includes all the hardware and software required to operate the observatory
and telescope as a system and to coordinate all the DCSs. It comprises the
Observatory Operation System, the Observatory Services System and the global
Telescope Control System.</p>
<ul class="simple">
<li>Observing Execution System – Includes all the hardware and software
required operate the observatory.</li>
<li>Core Services – Includes common observatory services.</li>
<li>Telescope Control System (TCS) – Includes the system level functions (e.g.
wavefront control, pointing) of the telescope control functions.</li>
</ul>
</div></blockquote>
<p><strong>Controlled Subsystem (CSS)</strong></p>
<blockquote>
<div><p>Control relevant part of a system to achieve the specified control
objectives. This includes the control system and the controlled plant. (e.g.
M1)</p>
<ul class="simple">
<li>Device Control Subsystem (DCS) – Includes all the hardware and software
required to control a Subsystem Controlled Plant (SCP). DCS include a set
of Device Control Packages and may include a set of Operation Support
Packages (OSP).<ul>
<li>Device Control Packages (DCP) – Includes all the software necessary to
control a Subsystem Controlled Plant (SCP).</li>
<li>Device Controller – Includes all the software necessary to operate a CSS
Device.</li>
<li>Operation Support Packages (OSP) – Includes all the software necessary
to operate a CSS integrated with the rest of the observatory.</li>
</ul>
</li>
<li>Subsystem Controlled Plant (SCP) – Physical system, or one of its parts,
which is the target of the control problem. Includes sensing and actuating
Devices. (e.g. M1 support system). In the State Analysis [ref] terminology
the plant is known as system under control.</li>
</ul>
</div></blockquote>
</div></blockquote>
<p>Additionally two categories of DCS that share the same architectural principles are defined:</p>
<blockquote>
<div><ul class="simple">
<li>Telescope DCS (TDCS) – Collection of DCSs that provide control of telescope
and adaptive optics CSS.</li>
<li>Instrument DCS (IDCS) – Collection of DCSs that provide control of a GMT
Science Instruments.</li>
</ul>
</div></blockquote>
<div class="figure" id="id5">
<img alt="../../_images/dcs_reference_architecture.png" src="../../_images/dcs_reference_architecture.png" />
<p class="caption"><span class="caption-text">Device Control Subsystem Reference Architecture</span></p>
</div>
</div>
<div class="section" id="component-architecture">
<span id="dcs-component-architecture"></span><h2>Component Architecture<a class="headerlink" href="#component-architecture" title="Permalink to this headline">¶</a></h2>
<p>The design of the GMT software and controls system is based on a distributed
component architecture. Components represent the most elementary unit for the
purpose of development, testing, integration and reuse. Groups of components can
be connected to create composite modules that implement complex functions.
Component interfaces are defined using Ports, which can be linked by means of
Connectors. For example, connectors are used to (a) integrate standardized
reusable control components with a given field bus configuration; (b) connect
component responses with user interface components; or (c) connect components
with common observatory services. Connectors are specified in the model without
making any assumption of the underlying middleware used by the platform-specific
implementation.</p>
<div class="figure" id="id6">
<img alt="../../_images/component_port_connector.png" src="../../_images/component_port_connector.png" />
<p class="caption"><span class="caption-text">Component, Port, and Connector</span></p>
</div>
<p>Components, Ports and Connectors are used to model both physical and logical
systems. SysML internal block diagrams (<em>ibd</em>) are used to represent how
components relate to each other.</p>
<p>The basic components used to model the device control domain are Device
Controllers and Supervisors. Device controllers are specialized components that
implement the control function of single degree of freedom (e.g. linear position
controller) or multiple degrees of freedom that coordinate more elementary ones
(e.g. axis group controller). Supervisors implement the high-level interfaces of
DCSs and are responsible of the subsystem integrity (e.g. collision avoidance),
component configuration, subsystem robustness, component life cycle and
subsystem modal transitions amongst other functions.</p>
</div>
<div class="section" id="dcs-product-structure-modeling">
<span id="id2"></span><h2>DCS Product Structure Modeling<a class="headerlink" href="#dcs-product-structure-modeling" title="Permalink to this headline">¶</a></h2>
<p>Each DCS is made up of components organized into packages according to their
functional affinity or relationships. Examples of packages and their components
are shown in the Table below.</p>
<p><strong>Functional Breakdown</strong></p>
<blockquote>
<div><p>Which packages exist in which subsystem depends on the specific functionality
(e.g., some subsystems do not require special calibration components, or do
not interface with hardware devices). The Table below describes this pattern,
split in two categories:</p>
<blockquote>
<div><ul class="simple">
<li>Device Control Packages (DCP) – These packages are included in subsystems
that involve the control of optomechanical hardware Devices.</li>
<li>Operation Support Packages (OSP) – These Packages include software
components necessary to support health monitoring, automation, and proper
operation of a Subsystem.  Diagnosis and calibration packages are
emphasized early on in the design.  This is an area that is often
overlooked despite the fact that they may take a significant amount of
development effort, especially in the case of complex adaptive optics
control subsystems.</li>
</ul>
</div></blockquote>
</div></blockquote>
<table border="1" class="docutils" id="id7">
<caption><span class="caption-text">SWC Functional Packages:  Device Control</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="22%" />
<col width="58%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Package Name</th>
<th class="head">Description</th>
<th class="head">Typical
Components</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Control Package</td>
<td>Contains software Components that implement the
supervisory and control functions of a Device
Control Subsystem (e.g., Mount Control System
Control Package).</td>
<td>Supervisor,
Controller</td>
</tr>
<tr class="row-odd"><td>Data Acquisition</td>
<td>Contains software Components that implement the
supervisory and data acquisition functions of a Detector
Control Subsystem (e.g., AGWS Slope Processor Package).
Only Subsystems that contain detectors (e.g wavefront
sensor, acquisition/guide camera or a science detector)
need to provide a Data Acquisition Package.</td>
<td>Supervisor,
Controller,
Pipeline</td>
</tr>
<tr class="row-even"><td>Hardware Package</td>
<td>Contains hardware Components in which to deploy the
Device Control or Data Acquisition Package software
Component and the hardware to interface with the
electromechanical Devices.</td>
<td>Device Control
Computer,
I/O Module</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id8">
<caption><span class="caption-text">SWC Functional Packages:  Operation Support</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="22%" />
<col width="58%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Package Name</th>
<th class="head">Description</th>
<th class="head">Typical
Components</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Sequencing Package</td>
<td>Contains sequence Components necessary for the
operation of the Subsystem.</td>
<td>Sequence</td>
</tr>
<tr class="row-odd"><td>Diagnosis Package</td>
<td>Contains software Components necessary to implement
diagnosis functions when required.  This may involve
the development of special control or operation modes.</td>
<td>Supervisor,
Controller,
Pipeline,
Sequence</td>
</tr>
<tr class="row-even"><td>Calibration Package</td>
<td>Contains software Components necessary for the
calibration and characterization of hardware Devices.
This may include the development of special control
or operation modes.</td>
<td>Supervisor,
Controller,
Pipeline,
Sequence</td>
</tr>
<tr class="row-odd"><td>Data Processing
Package</td>
<td>Contains software Components necessary for the
calibration and processing of science and WFS detectors.</td>
<td>Supervisor,
Pipeline</td>
</tr>
<tr class="row-even"><td>Visualization
Package</td>
<td>Contains software Components that provide custom
visualizations necessary for the efficient operation
of a given Subsystem (e.g., M1 global status Panel).
Note that default engineering Panels are available as
part of the Engineering UI service.</td>
<td>Panel,
Widget,</td>
</tr>
<tr class="row-odd"><td>Observing Tool
Plugin Package</td>
<td>Observing Tool (OT) components provide instrument
specific editors that integrate with the GMT
Observing Tools to facilitate the specification of
instrument specific observation parameters.</td>
<td>Panel,
Widget,
Pipeline</td>
</tr>
<tr class="row-even"><td>Safety Package</td>
<td>Contains software/hardware Components that implement
Subsystem specific safety functions.  These Components
often interface with the ISS, but are independent
(e.g., M1 safety controller).</td>
<td>Supervisor,
Controller</td>
</tr>
<tr class="row-odd"><td>Operation Workflows
Package</td>
<td>Contains Components that allow the automation of high-
level operation workflows relative to the Subsystem
(e.g., unit test workflow, or calibration workflow in
case that several sequences and human operations are
involved).</td>
<td>Workflow</td>
</tr>
<tr class="row-even"><td>Management Package</td>
<td>Contains Components that capture the development
backlog and the Assembly Integration and Testing plans.</td>
<td>Plan,
Workflow</td>
</tr>
</tbody>
</table>
<p>The OSP shall interface with the following GCS system functions:</p>
<blockquote>
<div><ul class="simple">
<li>Visualization</li>
<li>Sequencing</li>
<li>Operation workflows</li>
<li>Calibration</li>
<li>Diagnosis</li>
<li>Data processing</li>
<li>Quality monitoring</li>
<li>Safety (through interface ISS)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="instrument-software-and-controls-integration">
<span id="dcs-instrument-swcs-integration"></span><h2>Instrument Software and Controls Integration<a class="headerlink" href="#instrument-software-and-controls-integration" title="Permalink to this headline">¶</a></h2>
<p>The GMT instruments software and controls follow the same architectural design
as other device control subsystems. Typically an Instrument Device Control
Subsystem will include most of the packages described in the <a class="reference internal" href="#figure-dcs-context"><span class="std std-ref">Figure on DCS
context</span></a> and will be developed following the standards and
rules described in this document. The operation of instrument, telescope and
adaptive optics DCSs will be coordinated by the GCS Core Systems (e.g. as
operation sequences executed by the Sequencer) in order to execute automated
observation or calibration operations. The IDCS data pipeline packages are
integrated in the GCS Core Systems (i.e. in the OPS Data Processing System) so
quick look and data products management is operated in a uniform way across the
observatory. Analogously instrument specific user interface panels and observing
tools are integrated in the OPS to ensure consistent and seamless implementation
of observatory workflows.</p>
</div>
<div class="section" id="dcs-deployment">
<span id="id3"></span><h2>DCS Deployment<a class="headerlink" href="#dcs-deployment" title="Permalink to this headline">¶</a></h2>
<p>The DCS reference architecture defines a generic design that shall be refined
and adapted to the specific CSS. The Figure below gives three examples of
possible DCS physical architectures.</p>
<div class="figure" id="id9">
<img alt="../../_images/dcp_reference_architecture.png" src="../../_images/dcp_reference_architecture.png" />
<p class="caption"><span class="caption-text">DCP Reference Architecture</span></p>
</div>
<p>A DCS consists on a set of Device Control Packages (DCP) and a set of Operation
Support Packages (OSP).</p>
<p>A DCP consists of one and only one Master Supervisor component for each CSS and
one or more Device Control Computers (DCC) hosting Device Controller components
interfacing to actuators and sensors via IO Modules. DCP Components communicate
with the GCS over the GMT Control Network (GCN). DCP Controllers may be
organized in a functional hierarchical manner and can be deployed in several
DCCs.</p>
<p>GMTO provides a set of software packages called GMT Software and Controls
Development Kit. The GDK includes a set of frameworks and development tools
(e.g. code, test and document generation) to be used by DCS developers. The GDK
is released at regular intervals (at least once per year, TBD ref to release
plan).</p>
<p>The following sections define the requirements that each DCS has to consider in
order to meet this architecture.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.8.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>